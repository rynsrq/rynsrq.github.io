<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Reading Tracker</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#2f2418;         /* deep brown background */
      --surface:#231a12;     /* darker panels */
      --panel:#3b3026;       /* mid brown */
      --muted:#b8a995;       /* muted text */
      --accent:#f6c9d2;      /* light pink */
      --accent-strong:#f5b7c6;
      --card:#33271d;
      --white:#fff6f6;
      --radius:18px;
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,'Helvetica Neue',Arial; background:var(--bg); color:var(--white); -webkit-font-smoothing:antialiased}
    .app{max-width:540px;margin:0 auto;padding:18px 14px 86px}header{display:flex;align-items:center;justify-content:space-between;margin-bottom:8px}
header h1{font-size:28px;margin:0;font-weight:700}
header .time{font-size:12px;color:var(--muted)}

/* Home list (sessions) */
.list{display:flex;flex-direction:column;gap:12px;margin-top:10px}
.session{display:flex;align-items:center;justify-content:space-between;padding:12px 16px;border-radius:14px;min-height:58px}
.session.pink{background:linear-gradient(90deg,var(--accent) 0%, var(--accent-strong) 100%); color:#2b1a1f}
.session.brown{background:linear-gradient(90deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); color:var(--white)}
.session .left{display:flex;gap:12px;align-items:center}
.session .time-s{font-weight:700;font-size:16px}
.session .dur{font-size:14px;color:inherit}
.session .right{font-size:14px;color:inherit}

/* floating start button */
.fab{position:fixed;right:18px;bottom:88px;background:var(--accent);color:#241916;padding:14px 20px;border-radius:28px;box-shadow:0 10px 30px rgba(0,0,0,0.4);display:flex;gap:10px;align-items:center;font-weight:700}
.fab svg{width:18px;height:18px}

/* Calendar */
.month-title{font-size:22px;margin:20px 0 8px}
.weekdays{display:flex;gap:6px;color:var(--muted);margin-bottom:8px}
.weekdays div{flex:1;text-align:center;font-size:12px}
.calendar-grid{display:grid;grid-template-columns:repeat(7,1fr);gap:10px}
.circle-day{width:44px;height:44px;border-radius:50%;display:flex;align-items:center;justify-content:center;background:rgba(255,255,255,0.03);color:var(--muted);margin:auto}
.circle-day.today{outline:3px solid rgba(245,183,198,0.18);}
.month-block{margin-bottom:24px}
.month-label{font-size:20px;margin:6px 0;color:var(--white)}

/* Year list boxes */
.months-row{display:flex;gap:8px;overflow:auto;padding:8px 4px}
.month-box{min-width:88px;padding:10px;border-radius:12px;background:var(--panel);text-align:center}

/* Configs */
.section{background:var(--panel);padding:12px;border-radius:12px;margin-top:12px}
.section h3{margin:0 0 10px 0;color:var(--white)}
.row{display:flex;align-items:center;justify-content:space-between;padding:12px;border-radius:12px;background:rgba(255,255,255,0.02);margin-bottom:8px}
.row .label{display:flex;gap:12px;align-items:center}
.row .label .icon{width:28px;height:28px;border-radius:8px;background:rgba(0,0,0,0.2);display:flex;align-items:center;justify-content:center}
.row small{color:var(--muted)}

/* Bottom nav */
.bottom-nav{position:fixed;left:0;right:0;bottom:0;height:72px;background:#3b2f24;display:flex;gap:8px;align-items:center;justify-content:space-around;padding:10px}
.nav-item{flex:1;text-align:center;color:var(--muted);font-weight:600}
.nav-item.active{background:#2a2118;padding:10px;border-radius:18px;color:var(--white)}

/* small screens */
@media (max-width:420px){.app{padding:14px 12px 96px}.circle-day{width:40px;height:40px}}

  </style>
</head>
<body>
  <div class="app" id="app">
    <header>
      <div>
        <h1 id="pageTitle">Home</h1>
        <div class="time">Today</div>
      </div>
      <div class="time" id="clock">14:53</div>
    </header><!-- HOME: session list -->
<main id="homeView">
  <div class="list" id="sessionList">
    <!-- sessions inserted here -->
  </div>
</main>

<!-- CALENDAR -->
<main id="calendarView" style="display:none">
  <div class="month-block">
    <div class="month-label">November</div>
    <div class="weekdays"><div>M</div><div>T</div><div>W</div><div>T</div><div>F</div><div>S</div><div>S</div></div>
    <div class="calendar-grid" id="calendarGrid">
      <!-- days -> circles -->
    </div>
  </div>
  <div class="month-block">
    <div class="month-label">October</div>
    <div class="calendar-grid" id="calendarGrid2"></div>
  </div>
</main>

<!-- CONFIG -->
<main id="configView" style="display:none">
  <div class="section">
    <h3>Categories</h3>
    <div class="row"><div class="label"><div class="icon">ðŸ’»</div><div><strong>STUDY</strong></div></div><div>â€º</div></div>
    <div style="text-align:center;margin:10px 0"><button style="background:#71593f;color:var(--white);padding:10px 16px;border-radius:12px;border:0">+ add category</button></div>
  </div>

  <div class="section">
    <h3>Analytics</h3>
    <div class="row"><div><strong>Crash reports</strong><br><small>Ask to send crash reports</small></div><div><input type="checkbox" checked></div></div>
    <div class="row"><div><strong>System logs</strong><br><small>Include system logs in crash reports</small></div><div><input type="checkbox" checked></div></div>
  </div>

  <div class="section">
    <h3>Storage</h3>
    <div class="row"><div><strong>Backup</strong><br><small>Backup all data regularly</small></div><div>â€º</div></div>
    <div class="row"><div><strong>Import</strong><br><small>Import from a backup</small></div><div>â€º</div></div>
  </div>
</main>

<!-- Year summary strip -->
<div id="yearStrip" style="display:none;margin-top:12px">
  <div class="months-row" id="monthsList"></div>
</div>

<!-- floating button -->
<button class="fab" id="startBtn"><svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5 3v18l15-9L5 3z" fill="currentColor"/></svg> Start</button>

  </div>  <div class="bottom-nav">
    <div class="nav-item active" id="navHome">Home</div>
    <div class="nav-item" id="navCalendar">Calendar</div>
    <div class="nav-item" id="navConfig">Configurations</div>
  </div>  <script>
    // Keep functionality similar to previous implementation but inject nicer UI items
    const STORAGE_KEY='reading_sessions_v1';
    function loadData(){ try{ const raw=localStorage.getItem(STORAGE_KEY); return raw?JSON.parse(raw):{} }catch(e){return{}} }
    function saveData(d){ localStorage.setItem(STORAGE_KEY, JSON.stringify(d)) }

    // dummy sessions for demo (you can remove on real use)
    if(!localStorage.getItem('demo_populated')){
      const d={};
      const today=new Date(); const key=today.toISOString().slice(0,10);
      d[key]=[
        {start:new Date(today.getFullYear(),today.getMonth(),today.getDate(),11,4).toISOString(), end:new Date(today.getFullYear(),today.getMonth(),today.getDate(),11,58).toISOString(), secs:53*60},
        {start:new Date(today.getFullYear(),today.getMonth(),today.getDate(),11,58).toISOString(), end:new Date(today.getFullYear(),today.getMonth(),today.getDate(),12,1).toISOString(), secs:2*60},
        {start:new Date(today.getFullYear(),today.getMonth(),today.getDate(),12,1).toISOString(), end:new Date(today.getFullYear(),today.getMonth(),today.getDate(),12,2).toISOString(), secs:1*60},
        {start:new Date(today.getFullYear(),today.getMonth(),today.getDate(),12,2).toISOString(), end:new Date(today.getFullYear(),today.getMonth(),today.getDate(),12,7).toISOString(), secs:4*60},
        {start:new Date(today.getFullYear(),today.getMonth(),today.getDate(),12,7).toISOString(), end:new Date(today.getFullYear(),today.getMonth(),today.getDate(),12,57).toISOString(), secs:50*60},
        {start:new Date(today.getFullYear(),today.getMonth(),today.getDate(),12,57).toISOString(), end:new Date(today.getFullYear(),today.getMonth(),today.getDate(),14,53).toISOString(), secs:1*60*60+56*60}
      ];
      saveData(d); localStorage.setItem('demo_populated','1');
    }

    function secondsToHM(secs){ const h=Math.floor(secs/3600); const m=Math.floor((secs%3600)/60); return `${h?h+'h ':''}${m}m`; }

    function renderHome(){ const data=loadData(); const todayKey=new Date().toISOString().slice(0,10); const arr=data[todayKey]||[]; const list=document.getElementById('sessionList'); list.innerHTML='';
      // render in reverse chronological
      arr.slice().reverse().forEach((s,i)=>{
        const el=document.createElement('div'); el.className='session '+((i%2)?'brown':'pink');
        el.innerHTML = `<div class="left"><div class="time-s">${(new Date(s.start)).toLocaleTimeString([], {hour:'2-digit',minute:'2-digit'})}</div><div class="dur">â”€â”€ ${Math.round(s.secs/60)} min â”€â”€</div></div><div class="right">${(new Date(s.end)).toLocaleTimeString([], {hour:'2-digit',minute:'2-digit'})}</div>`;
        list.appendChild(el);
      })
    }

    function renderCalendarDemo(){ const grid=document.getElementById('calendarGrid'); grid.innerHTML='';
      // show first 28 days as circles just for layout demo
      for(let i=1;i<=28;i++){ const c=document.createElement('div'); c.className='circle-day'+(i===17?' today ':''); c.textContent=i; grid.appendChild(c); }
      const grid2=document.getElementById('calendarGrid2'); grid2.innerHTML=''; for(let i=1;i<=31;i++){ const c=document.createElement('div'); c.className='circle-day'; c.textContent=i; grid2.appendChild(c); }
    }

    function renderMonthsStrip(){ const container=document.getElementById('monthsList'); container.innerHTML=''; for(let i=0;i<12;i++){ const box=document.createElement('div'); box.className='month-box'; const dt=new Date(); dt.setMonth(dt.getMonth()- (11-i)); box.innerHTML = `<div style="font-size:12px">${dt.toLocaleString(undefined,{month:'short'})}</div><div style="font-weight:700;margin-top:6px">${Math.floor(Math.random()*10)}h</div>`; container.appendChild(box); } }

    // Nav
    const navHome=document.getElementById('navHome'), navCalendar=document.getElementById('navCalendar'), navConfig=document.getElementById('navConfig');
    const homeView=document.getElementById('homeView'), calendarView=document.getElementById('calendarView'), configView=document.getElementById('configView'), yearStrip=document.getElementById('yearStrip');
    function setActive(nav){ document.querySelectorAll('.nav-item').forEach(n=>n.classList.remove('active')); nav.classList.add('active'); }
    navHome.addEventListener('click', ()=>{ setActive(navHome); homeView.style.display='block'; calendarView.style.display='none'; configView.style.display='none'; yearStrip.style.display='none'; document.getElementById('pageTitle').textContent='Home'; });
    navCalendar.addEventListener('click', ()=>{ setActive(navCalendar); homeView.style.display='none'; calendarView.style.display='block'; configView.style.display='none'; yearStrip.style.display='block'; document.getElementById('pageTitle').textContent='Calendar'; renderCalendarDemo(); renderMonthsStrip(); });
    navConfig.addEventListener('click', ()=>{ setActive(navConfig); homeView.style.display='none'; calendarView.style.display='none'; configView.style.display='block'; yearStrip.style.display='none'; document.getElementById('pageTitle').textContent='Configurations'; });

    document.getElementById('startBtn').addEventListener('click', ()=>{ alert('Start / Stop functionality still wired to core script â€” this demo shows UI.'); })

    // init
    renderHome(); renderCalendarDemo(); renderMonthsStrip();

    // live clock
    setInterval(()=>{ document.getElementById('clock').textContent = new Date().toLocaleTimeString([], {hour:'2-digit',minute:'2-digit'}); }, 1000);
  </script></body>
</html>
